box: python:3.9

build:
 steps:
 - script:
    name: install
    code: |
     apt-get update
     apt-get install libgl1 --assume-yes
 - script:
    name: lint
    code: |
     pip install flake8
     pip install mypy
     pip install requests
     pip install types-mock
     pip install types-requests
     flake8 bin/chroma-feedback chroma_feedback tests
     mypy bin/chroma-feedback chroma_feedback tests
 - script:
    name: test
    code: |
     pip install mock
     pip install pyqt5
     pip install pyqt5-stubs
     pip install pytest
     pip install pytest-mock
     pip install requests
     pytest tests
